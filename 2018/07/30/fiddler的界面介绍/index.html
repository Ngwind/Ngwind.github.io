<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="吴文达的博客">
    <meta name="keyword"  content="测试">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        二、【fiddler】的界面与抓包 - Ngwind的博客 | Ngwind&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> What doesn&#39;t kill you,make you stronger. </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>wenda wu</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#0-前言"><span class="toc-text">0 前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-开启抓取网络会话"><span class="toc-text">1 开启抓取网络会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-查看网络会话"><span class="toc-text">2 查看网络会话</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-查看网络会话详细信息"><span class="toc-text">2.1 查看网络会话详细信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-查看网络会话统计信息"><span class="toc-text">2.1 查看网络会话统计信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-分析网络会话"><span class="toc-text">2.2 分析网络会话</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-查看网络会话的传输耗时"><span class="toc-text">2.3 查看网络会话的传输耗时</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-查找与过滤会话"><span class="toc-text">3 查找与过滤会话</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-查找会话"><span class="toc-text">3.1 查找会话</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-1-使用find选项框"><span class="toc-text">3.1.1 使用find选项框</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-2-使用命令行QuickExec"><span class="toc-text">3.1.2 使用命令行QuickExec</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-过滤会话"><span class="toc-text">3.2 过滤会话</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-比较两个会话"><span class="toc-text">3.3 比较两个会话</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-1-安装插件来比较会话"><span class="toc-text">3.3.1 安装插件来比较会话</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-2-更改默认文本比较工具"><span class="toc-text">3.3.2 更改默认文本比较工具</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-其他"><span class="toc-text">3 其他</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> What doesn&#39;t kill you,make you stronger. </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        二、【fiddler】的界面与抓包
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2018-07-30 18:00:48</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#fiddler" title="fiddler">fiddler</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <h3 id="0-前言"><a href="#0-前言" class="headerlink" title="0 前言"></a>0 前言</h3><p>上一篇中介绍了fiddler的安装与配置，这一篇文章将对fiddler的界面进行介绍。以及查看抓取的数据包。</p>
<hr>
<h3 id="1-开启抓取网络会话"><a href="#1-开启抓取网络会话" class="headerlink" title="1 开启抓取网络会话"></a>1 开启抓取网络会话</h3><p>在Fiddler中，勾选上File-&gt;Capture Traffic 或者在左下角点击Capturing，就可以开始抓包啦！如果你要抓取https协议包，记得做好相关的配置，具体可以查看上一篇文章。</p>
<p>第一种方法<br><img src="/img/2018-07-31 095221.png" alt=""></p>
<p>第二种方法<br><img src="/img/2018-07-31 095331.png" alt=""></p>
<p>如果完成了上述操作，还不能抓到包，可能是你其他地方没有设置好，可以检查浏览器是否启用了代理、在filter中查看是否启用了过滤器（我自己演示的时候，就是忘了关掉过滤器导致半天都没抓到包…）等</p>
<p><img src="/img/2018-07-31 095701.jpg" alt=""></p>
<p>如果你操作正常，应该就可以在会话列表中看到数据包了：</p>
<p><img src="/img/2018-07-31 095857.jpg" alt=""></p>
<h3 id="2-查看网络会话"><a href="#2-查看网络会话" class="headerlink" title="2 查看网络会话"></a>2 查看网络会话</h3><h4 id="2-1-查看网络会话详细信息"><a href="#2-1-查看网络会话详细信息" class="headerlink" title="2.1 查看网络会话详细信息"></a>2.1 查看网络会话详细信息</h4><p>在会话列表中，以表格的形式给我们展现了所有抓到的数据包，展示的信息有：id号、响应码、协议名、域名、数据格式、url、传输数据大小、缓存类型、进程、备注等。这些表头可以通过拖动来自定义顺序和行宽。</p>
<p><img src="/img/2018-07-31 100542.jpg" alt=""></p>
<h4 id="2-1-查看网络会话统计信息"><a href="#2-1-查看网络会话统计信息" class="headerlink" title="2.1 查看网络会话统计信息"></a>2.1 查看网络会话统计信息</h4><p>我们可以在Statistics中查看网络会话的信息统计（主要是对时间、空间的统计）：</p>
<ol>
<li>在会话列表点击选中1或多个会话</li>
<li>在右边点击Statistics </li>
</ol>
<p><img src="/img/2018-07-31 100928.png" alt=""></p>
<h4 id="2-2-分析网络会话"><a href="#2-2-分析网络会话" class="headerlink" title="2.2 分析网络会话"></a>2.2 分析网络会话</h4><p>我们可以在Inspectors中查看网络会话的数据内容,inspectors中的信息是我们工作中查看的主要内容。</p>
<ol>
<li>点击选中一个会话</li>
<li>点击右边的Inspectors</li>
</ol>
<p><img src="/img/2018-07-31 101557.jpg" alt=""></p>
<p>我们看看界面的右边，上半部分是请求request的信息，可以查看请求头header、请求主体textview、表单webforms、cookies、json格式查看等。下半部分是响应response的信息，可以查看响应头、响应主体、以图片、网页、json、xml、raw等格式查看响应的消息内容。</p>
<h4 id="2-3-查看网络会话的传输耗时"><a href="#2-3-查看网络会话的传输耗时" class="headerlink" title="2.3 查看网络会话的传输耗时"></a>2.3 查看网络会话的传输耗时</h4><p>使用Timeline查看1或者多个会话的传输耗时</p>
<ol>
<li>在会话列表选中1或多个会话</li>
<li>点击右边的Timeline栏</li>
</ol>
<p><img src="/img/2018-07-31 102524.jpg" alt=""></p>
<h3 id="3-查找与过滤会话"><a href="#3-查找与过滤会话" class="headerlink" title="3 查找与过滤会话"></a>3 查找与过滤会话</h3><h4 id="3-1-查找会话"><a href="#3-1-查找会话" class="headerlink" title="3.1 查找会话"></a>3.1 查找会话</h4><p>有时候，抓到的数据包太多，在这么多会话中找到我们要分析的那个是比较麻烦的。fiddler给我们提供了一个find功能，用来搜索特定的会话。</p>
<h5 id="3-1-1-使用find选项框"><a href="#3-1-1-使用find选项框" class="headerlink" title="3.1.1 使用find选项框"></a>3.1.1 使用find选项框</h5><p>点击find会弹出一个对话框，我们可以在find文本框中输入要搜索的文本。下方的options中可以进行高级设置。找到符合条件的会话，会通过高亮的方式标记显示。</p>
<p><img src="/img/2018-07-31 104439.png" alt=""></p>
<h5 id="3-1-2-使用命令行QuickExec"><a href="#3-1-2-使用命令行QuickExec" class="headerlink" title="3.1.2 使用命令行QuickExec"></a>3.1.2 使用命令行QuickExec</h5><p>fiddler提供了一个命令行工具，后面会专门学习命令行的使用。我们可以使用命令行来查找特定会话。<br>命令行是在左下角的一个黑框。输入<code>?sometext</code>即可搜索和’sometext’相关的会话。</p>
<p><img src="/img/2018-07-31 105420.png" alt=""></p>
<h4 id="3-2-过滤会话"><a href="#3-2-过滤会话" class="headerlink" title="3.2 过滤会话"></a>3.2 过滤会话</h4><p>除了用find，还有一种方便我们查看会话的方法，就是使用过滤filter功能。在右侧菜单中，找到Fittlers选项，共有9个部分进行设置。</p>
<p><img src="/img/2018-07-31 105841.png" alt=""></p>
<ol>
<li>Use Filters：勾选则表示使用过滤，不勾选则表示不进行过滤</li>
<li>Actions：有四个选项，Run Filterset now：立即运行过滤设置；Load Filterset：加载保存的过滤设置；Save Filterset：保存过滤设置；help：帮助</li>
<li>Hosts：该设置项有两个选项<ul>
<li>第一个下拉框是只显示内网或者外网选项<br><img src="/img/2018-07-31 110028.png" alt=""></li>
<li>第二个下拉框是根据主机名信息显示或者隐藏或者标记指定请求<br><img src="/img/2018-07-31 110124.png" alt=""></li>
</ul>
</li>
<li>Client Process：有三个选项，Show only traffic from：根据进程信息进行过滤，选择后，将只显示由该进程发出的请求；Show only Internet Explorer traffic：只关心由IE浏览器发出的请求；Hide traffic from Service Host：隐藏来自service host（即由svchost.exe进程发出）的请求</li>
<li>Request Headers：有五个选项，Show only if URL contains：可以通过正则表达式过滤请求地址中包含或不包含的内容，例如REGEX:.(js|css|js\?.<em>|css\?.</em>)$（隐藏所有js和css请求）；Hide if URL contains：与Show only if URL contains相反，一个是显示，一个是隐藏；Flags requests with headers：支持指定某个http请求头名称，如果在web session列表中存在该请求头，会加粗显示该session；Delete requests headers：与Flags requests with headers类似，这里是如果包含该请求头，则删除该请求头；Set request header：将HTTP请求头更新为所输入的值。</li>
<li>Breakpoints：断点设置，有四个选项。Break request on POST：对POST请求设置断点；Break request on GET with query string：会为所有方法为GET且URL中包含了给定查询条件的请求设置断点；Break on XMLHttpRequest：对所有能够确定是通过XMLHTTPRequest对象发送的请求设置断点；Break response on Content-Type：会为所有响应头Content-Type中包含了指定文本的响应设置响应断点。</li>
<li>Response Status Code：根据响应状态码设置断点。</li>
<li>Response Type and Size：有几种类型，一类是根据响应数据的类型显示或隐藏；一类是根据响应数据的大小显示或隐藏；一类是根据响应所需要的时间设置背景颜色；一类是根据文件类型进行限制。<ul>
<li>type有以下几种类型：<br><img src="/img/2018-07-31 110304.png" alt=""></li>
<li>Time HeatMap复选框会基于服务器返回给定响应所需要的时间为每个session设置背景颜色。</li>
</ul>
</li>
<li>Response Headers：与Request Headers不同的是，这块区域是针对响应数据的头部进行过滤。</li>
</ol>
<p>这么多设置项，比较常用的就是1.2.3部分。通过过滤设置，可以快速的帮助我们找到我们需要抓包分析的数据包，从而提高效率，避免过多的数据包信息干扰我们找到正确的数据包。</p>
<h4 id="3-3-比较两个会话"><a href="#3-3-比较两个会话" class="headerlink" title="3.3 比较两个会话"></a>3.3 比较两个会话</h4><p>选中会话list中的多个会话，然后右键点击，选择comprare。</p>
<p><img src="/img/2018-07-31 112249.png" alt=""></p>
<p>可能你点击compare之后会弹出错误提示框，别慌，往下看：</p>
<h5 id="3-3-1-安装插件来比较会话"><a href="#3-3-1-安装插件来比较会话" class="headerlink" title="3.3.1 安装插件来比较会话"></a>3.3.1 安装插件来比较会话</h5><p>默认情况下，fiddler尝试打开windiff或者winmerge来比较两个会话，不过默认没有安装这些插件，需要我们自行下载…我没有使用这些插件。如果需要，可以点击参考<a href="https://support.microsoft.com/zh-cn/help/159214/how-to-use-the-windiff-exe-utility" target="_blank" rel="noopener">这个</a>文档进行下载安装。</p>
<h5 id="3-3-2-更改默认文本比较工具"><a href="#3-3-2-更改默认文本比较工具" class="headerlink" title="3.3.2 更改默认文本比较工具"></a>3.3.2 更改默认文本比较工具</h5><p>如果你电脑有一些比较高级的编辑器，可以使用这些编辑器来来比较两个会话。不过使用之前，我们要改变fiddler默认的文本比较工具。</p>
<ol>
<li>点击Tools-&gt;Fiddler Options-&gt;Tools</li>
<li>找到你编辑器的程序路径即可。</li>
</ol>
<p><img src="/img/2018-07-31 112504.png" alt=""></p>
<h3 id="3-其他"><a href="#3-其他" class="headerlink" title="3 其他"></a>3 其他</h3><p>使用fiddler查看网络数据包就先介绍到这里，欢迎补充！下一篇我们将学习如何截获并且修改网络请求和响应~</p>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/donate.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <div id="comment-container">
        </div>
    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        
        <li>
            <a target="_blank" href="https://www.zhihu.com/people/wu-wen-da-54">
                            <span class="fa-stack fa-lg">
                                 <i class="iconfont icon-zhihu"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank" href="http://weibo.com/6502350892">
                            <span class="fa-stack fa-lg">
                                  <i class="iconfont icon-weibo"></i>
                            </span>
            </a>
        </li>
        

        

        
        <li>
            <a target="_blank"  href="https://github.com/Ngwind">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/gitment.js"></script>
<script>
    var gitment = new Gitment({
        id: '二、【fiddler】的界面与抓包',
        owner: 'Ngwind',
        repo: 'Ngwind.github.io',
        oauth: {
            client_id: 'ec0f1527ca1d1cfb8bf8',
            client_secret: '5eafc4a4871101ebf8157a5e65fcb25fe2717683',
        },
    })
    gitment.render('comment-container')
</script>

</html>
